[[10.10.0.4 (Aragog)]]

`#CSRF` `#HTTP3`
Hacemos un scaneo con [[NMAP]] para ver los puertos abiertos:
`nmap -sT -Pn --top-ports 500 --open -T5 -v -n 10.10.0.5`

```python
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http
```

Podemos agilizar la búsqueda mas si usamos un secuenciador junto con xargs
`seq 1 65535 | xargs -P 700 -I {} nmap -sT -Pn -p{} -open -T5 -n -v 10.10.0.5 | grep "tcp open"`

Navegaremos a la pagina web que nos muestra que esta levantada en el puerto `80`
Vemos información sobre la web con la herramienta con [[WHATWEB]]
`whatweb http://10.10.0.5/`
```python
http://10.10.0.5/ [200 OK] Apache[2.4.38], Country[RESERVED][ZZ], HTTPServer[Debian Linux][Apache/2.4.38 (Debian)], IP[10.10.0.5]
```

Vamos a hacer fuzzing sobre la web con la herramienta [[GOBUSTER]]
`gobuster dir -u http://10.10.0.5/ -w /usr/share/seclists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt -t 20 -x html,php,txt`
Este nos encontrara los siguientes ficheros
`index.html`
`/joomla`
`note.txt` con el siguiente contenido:
```txt
Hello developers!!


I will be using our new HTTP3 Server at https://quic.nagini.hogwarts for further communications.
All developers are requested to visit the server regularly for checking latest announcements.


Regards,
site_amdin
```

Esto nos indica que se esta usando `HTTP3` que es la tercera versión de HTTP utiliza un puerto UDP
Usaremos la herramienta de quiche con la tool de `./http3-client` como en esta caso no conseguía utilizarla seguí el siguiente paso del video en el que se descubre la ruta:
`/internalResourceFeTcher.php` así que accedemos a ella desde el navegador

Vemos que la URL esta en método get, así que usando la opción 
`?url=` podremos traer al navegador actual por ejemplo llamar a `http://localhost` nos muestra la web del localhost, al igual que podemos cargar la web de la maquina [[10.10.0.4 (Aragog)]] aunque no cargue la imagen. Esto acontece un SSRF (Server Side Request Forgery) y lo podemos usar para enumerar los puertos y servicios internos de la maquina.







