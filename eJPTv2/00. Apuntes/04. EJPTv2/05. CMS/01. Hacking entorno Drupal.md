## Parte 1
Después de hacer el reconocimiento, vemos que tiene abierto el puerto 80 y que alberga un Drupal
Al hacer el [[00. Apuntes/01. Herramientas/NMAP|NMAP]] nos muestra la versión del Drupal cómo un directorio, podemos navegar hacia ella y encontramos en un panel de login.
En caso de que no se nos muestre nada con el [[00. Apuntes/01. Herramientas/NMAP|NMAP]] podemos buscar el directorio y la versión viendo el código fuente

Una vez ya tenemos la versión iniciamos [[METASPLOIT]]
Usamos el comando `search <Version_Drupal>`
Lo mas seguro es que el exploit sea el drupalgeddon2
Seleccionamos el exploit con el comando `use`
Configuramos RHOST y RPORT con la URL completa del navegador y puerto de la maquina victima

Y conseguiremos una sesión de Meterpreter
Para tener una Shell usaremos el comando `shell` y luego `bash -i`


## Parte 2

Después del scaneo vemos que hay un Drupal
Navegamos  a la web y vemos que es un Drupal, podemos usar la herramienta de `whatweb` para ver mas información de la pagina web
Desde [[METASPLOIT]] buscamos la versión del Drupal con el comando `search <Version_Drupal>` lo seleccionamos con el comando `use`,
Configuramos RHOST y RPORT con la IP y puerto de la maquina victima

Obtendremos una sesión de Meterpreter

Para listar las contraseñas que pertenecen a Drupal usaremos los siguientes comandos.
`find / -name settings.php 2>/dev/null`

Copiamos la ruta que nos da y con `cat` visualizamos el archivo, en busca de credenciales en texto claro 