
Esta vulnerabilidad nos permite acceder a archivos internos de la maquina victima para así obtener información privilegiada que nos sirva para realizar otros ataques
Si en la pagina principal no encontramos nada tendremos que hacer Fuzzing para ver si encontramos algo de valor usaremos en este caso [[00. Apuntes/01. Herramientas/GOBUSTER|GOBUSTER]].
`gobuster dir -u http://192.168.1.19/ -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt`
``
Lo que encontremos navegamos a ello y inspeccionamos él código fuente en busca de datos que nos puedan interesar como pueden ser URL, comentarios que indiquen donde se encuentran ciertas cosas etc...
En este caso encontramos el siguiente comentario
![[Pasted image 20241226121844.png]]

Así que navegaremos hasta el.
La forma de explotar una LFI es cuando en la URL pone por ejemplo
`doc=algo` eso es que esta llamando a un parámetro dentro del sistema, eso puede hacer que podamos navegar por los directorios de la maquina victima. Lo que tendremos que hacer es ir retrocediendo por los directorios con `../../` es recomendable poner muchos por que puede ser que el árbol de directorios sea muy grande.
Hacia donde se suele apuntar es hacia `/etc/passwd` así que al final de la linea de `../` que hayamos puesto debemos poner el `/etc/passwd`
Vamos a buscar ahora un usuario siempre tiene que estar seguido de `/home` por ejemplo `/home/suser` 
Una vez tenemos un usuario ubicado vamos a buscar su `id_rsa` para así desde nuestra maquina atacante poder acceder al servidor este archivo se suele encontrar en `/home/usuario/.ssh/id_rsa`
Creamos un fichero llamado `id_rsa` en la maquina atacante y copiamos lo que hemos obtenido de la maquina victima, lo guardamos y le damos los siguientes permisos `chmod 600`
Ahora ya podemos acceder vía SSH con `ssh -i id_rsa user@IP` como nos va a pedir una contraseña tenemos que craquear el `id_rsa` con [[00. Apuntes/01. Herramientas/JOHN THE RIPPER|JOHN THE RIPPER]] 
- Primero obtendremos el hash
`ssh2john id_rsa > hash`

- Segundo craquear el hash que hemos generado
`sudo john --wordlist=/usr/share/wordlists/rockyou.txt hash`

Ya habremos obtenido la contraseña y ya podremos acceder via SSH
Una vez hemos accedido a la maquina victima solo quedaría realizar una escalada de privilegios
